
# Cart Items

## Overview

The `Cart` in the `@geins/oms` package allows you to manage items in a shopping cart. This document covers the following topics:

- [Types](#types)
- [Identifyer Items](#identifying-items)
- [Adding item](#adding-items)
- [Adding Bundle and selections](#adding-packages)
- [Updating Items](#updating-items)
- [Removing Items](#removing-items)
- [Getting Items](#getting-items)
- [Clearing all items](#getting-item-details)

## Types

The following types for managing cart items:
```typescript [@geins/types]
type CartItemType = {
    id?: string;
    groupKey?: string;
    type?: ItemType;
    title?: string;
    product?: ProductType;
    skuId?: number;
    quantity: number;
    campaign?: CampaignType;
    productPackage?: ProductPackageCartItemType;
    productPackageCartItems?: CartItemType[];
    message?: string;
    totalPrice?: PriceType;
    unitPrice?: PriceType;
};

declare enum ItemType {
    PRODUCT = "PRODUCT",
    PACKAGE = "PACKAGE"
}

type ProductPackageSelectionType = {
    groupId: number;
    optionId: number;
    skuId: number;
};

type ProductPackageCartItemType = {
    packageId: number;
    packageName: string;
    groupId: number;
    optionId: number;
};
```

## Identifying Items

Each item in the cart has a unique `id` that is generated by the system. This `id` can be used to identify the item when updating or removing it from the cart.


## Adding Items

Adding an item to the cart is done using the `add` method. A `Cart` will be created if there isnt one already. In its simplest form, you can add an item by providing the `skuId` of the product you want to add to the cart.

Example:
```typescript
// add item with id 1234 to cart
await geinsOMS.cart.items.add({ skuId: 1234 });
```

See JSdoc for more details on the `add` method.

### Product 

There is a few features that will help you with some common use cases when adding items to the cart. For example, you can add a product with a specific quantity, or you can add a product with a message.

Example:
```typescript

// add item with id 1234 to cart with quantity 2
const argsQuantity = { skuId: 1234, quantity: 2 };
await geinsOMS.cart.items.add(argsQuantity);

// add item with id 1234 to cart with a message 
const argsMessage = { skuId: 1234, message: "This is a message" };
await geinsOMS.cart.items.add(argsMessage);

// add item with id 1234 to cart with a message 
const argsMessage1 = { skuId: 1234, message: "This is a message" };
await geinsOMS.cart.items.add(argsMessage);

// add item with id 1234 to cart with another message 
const argsMessag2 = { skuId: 1234, message: "This is a message two" };
await geinsOMS.cart.items.add(argsMessage2);

```

The Id of the item will be the same aslong as the `skuId` is the same and the `message` is the same. 

### Package / Bundle

Adding a product package to the cart is similar to adding a product. You can add a product package with a specific quantity, or you can add a product package with a message.

A product package is a group of products that are sold together. Each product package has a unique `packageId` and can have multiple selections. Each selection is a combination of a `groupId`, `optionId`, and `skuId`.

::: tip Note
When adding a product package to the cart the add method will throw an error if the selections are not valid. So make sure to error handle the response.
:::

Example:
```typescript

let args = {
  packageId: 1234,
  selections: [
    { groupId: 1, optionId: 19, skuId: 1329 },
    { groupId: 2, optionId: 2, skuId: 1325 },
    { groupId: 3, optionId: 4, skuId: 1342 },
    { groupId: 4, optionId: 9, skuId: 1334 },
    { groupId: 5, optionId: 12, skuId: 1338 }
  ]
};

try {
  await geinsOMS.cart.items.add(argsPackage);
} catch(e){
    // handle error
}

```




## Updating Items


## Removing Items

## Getting Items

## Clearing all items
